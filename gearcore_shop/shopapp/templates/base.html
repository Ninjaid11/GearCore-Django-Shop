{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GearCore</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/static/img/favicon.ico">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <div class="wrapper">
        <header>
          <div class="container">
            <div class="logo">
              <h1>GearCore</h1>
            </div>


            <div class="right-section">
                <div class="dropdown" id="catalog-dropdown">
                  <button class="dropdown-btn">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ ‚ØÜ</button>
                  <div class="dropdown-content">
                    <div class="dropdown-item">
                      <span class="submenu-trigger">üéÆ –¢–æ–≤–∞—Ä—ã –¥–ª—è –≥–µ–π–º–µ—Ä–æ–≤ ‚Øà</span>
                      <div class="submenu">
                        {% for category in catalog_categories %}
                          <div class="submenu-column">
                            <strong>
                              <a href="{% url 'products_by_category' category.name %}">{{ category.name }}</a>
                            </strong>
                            {% for brand in category.brands.all %}
                              <a href="{% url 'product_by_brand' brand.name %}">{{ brand.name }}</a>
                            {% endfor %}
                          </div>
                        {% endfor %}
                      </div>
                    </div>
                  </div>
                </div>
                <nav>
                  <a href="#">–ö–æ—Ä–∑–∏–Ω–∞</a>
                  <a href="#">–í—Ö–æ–¥</a>
                </nav>
                <form action="{% url 'product_search' %}" method="get" class="search-form">
                    <input name="q" type="text" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." value="{{ request.GET.q }}">
                    <button type="submit" class="search-button">üîç</button>
                </form>
              </div>
          </div>
        </header>


        <main>
            {% block content %}
            {% endblock %}
        </main>

        <footer>
            <p>&copy; 2025 GearCore. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </footer>
    </div>

<script>

document.addEventListener('DOMContentLoaded', () => {
  const dropdownBtn = document.querySelector('.dropdown-btn');
  const dropdownContent = document.querySelector('.dropdown-content');
  const submenuTrigger = document.querySelector('.submenu-trigger');
  const submenu = document.querySelector('.submenu');

  dropdownBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    dropdownContent.classList.toggle('show');
  });

  submenuTrigger.addEventListener('click', (e) => {
    e.stopPropagation();
    submenu.classList.toggle('show');
  });

  document.addEventListener('click', () => {
    dropdownContent.classList.remove('show');
    submenu.classList.remove('show');
  });
});
</script>
</body>
</html>